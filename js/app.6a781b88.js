(function(t){function e(e){for(var n,s,i=e[0],l=e[1],c=e[2],u=0,m=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==o[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},o={app:0},r=[];function s(t){return i.p+"js/"+({"sign-up":"sign-up",trash:"trash"}[t]||t)+"."+{"sign-up":"85fb1744",trash:"0cd6320b"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a=o[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=n);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(t);var c=new Error;r=function(e){l.onerror=l.onload=null,clearTimeout(u);var a=o[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",c.name="ChunkLoadError",c.type=n,c.request=r,a[1](c)}o[t]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/kvittering/",i.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1893:function(t,e,a){},3393:function(t,e,a){"use strict";a("47e4")},"397f":function(t,e,a){"use strict";a("4eb6")},"47e4":function(t,e,a){},"4eb6":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pb-100",attrs:{id:"app"}},[e("navbar"),e("router-view")],1)},r=[],s=function(){var t=this,e=t._self._c;return e("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"primary",sticky:""}},[e("b-navbar-brand",{attrs:{to:{name:"Home"}}},[t._v("kvittering")]),t.user?[e("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),e("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[e("b-navbar-nav",[e("b-nav-item",{staticClass:"nav-link",attrs:{active:"Home"===t.$route.name,to:{name:"Home"}}},[e("b-icon",{attrs:{icon:"files","aria-hidden":"true"}}),t._v(" Documents")],1),e("b-nav-item",{staticClass:"nav-link",attrs:{active:"Trash"===t.$route.name,to:{name:"Trash"}}},[e("b-icon",{attrs:{icon:"trash","aria-hidden":"true"}}),t._v(" Trash")],1),e("b-nav-item",{staticClass:"nav-link",on:{click:t.logout}},[t._v("Sign out")])],1)],1)]:t._e()],2)},i=[],l=(a("14d9"),a("d0b9")),c=a("8f77"),u=a("11a5"),d=a("5843"),m=a("042b"),p=a("4711"),f={name:"Navbar",components:{BNavbar:l["a"],BNavbarBrand:c["a"],BNavbarToggle:u["a"],BCollapse:d["a"],BNavbarNav:m["a"],BNavItem:p["a"]},computed:{user(){return this.$store.state.user}},methods:{async logout(){await this.$appwrite.account.deleteSessions(),this.$store.commit("setUser",null),await this.$router.push({name:"Login"})}}},h=f,v=(a("397f"),a("2877")),b=Object(v["a"])(h,s,i,!1,null,"e9523402",null),g=b.exports,y={components:{Navbar:g}},w=y,_=(a("3393"),Object(v["a"])(w,o,r,!1,null,null,null)),D=_.exports,C=a("9483");Object(C["a"])("/kvittering/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var $=a("8c4f"),x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home container mt-4"},[e("div",{staticClass:"u-flex-wrap mx-12 u-flex u-flex--space-between u-flex--vertical-align"},[e("div",{staticClass:"col-12 col-md-6 px-0 u-flex u-flex--vertical-end mb-24"},[e("h1",{staticClass:"mb-0 mr-12 h2"},[e("b-icon",{attrs:{icon:"files","aria-hidden":"true"}}),t._v(" Documents "),e("small",{staticClass:"text-muted"},[t._v("("+t._s(t.numDocuments)+")")])],1),e("b-button",{attrs:{variant:"secondary",title:"Add document",squared:""},on:{click:function(e){t.showAddModal=!0}}},[e("b-icon",{attrs:{icon:"plus","aria-hidden":"true"}})],1)],1),t.documents.length?e("div",{staticClass:"col-12 col-md-3 pr-0 row u-flex--vertical-align"},[t._m(0),e("div",{staticClass:"col-12 col-sm-7"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],staticClass:"form-control d-inline",attrs:{id:"sortby"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sortBy=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"updated_desc"}},[t._v("Changed")]),e("option",{attrs:{value:"date"}},[t._v("Date ASC")]),e("option",{attrs:{value:"date_desc"}},[t._v("Date DESC")]),e("option",{attrs:{value:"title"}},[t._v("Title A-Z")]),e("option",{attrs:{value:"title_desc"}},[t._v("Title Z-A")])])])]):t._e()]),t.documents.length?e("div",{staticClass:"u-flex u-flex-wrap mt-5"},t._l(t.sortedDocuments,(function(a){return e("div",{key:a.id,staticClass:"col-12 col-md-3 mb-4"},[e("document-thumb",t._b({on:{edit:t.onEdit,trash:t.onTrash}},"document-thumb",a,!1))],1)})),0):e("div",{staticClass:"u-flex u-flex--center mt-5 h3 text-muted u-text-center px-12"},[t._v("You have not uploaded any documents yet.")]),t.showAddModal?e("add-document-modal",{on:{close:function(e){t.showAddModal=!1},add:t.loadDocuments}}):t._e(),t.selectedDocumentToEdit&&t.showEditModal?e("edit-document-modal",{attrs:{document:t.selectedDocumentToEdit},on:{close:function(e){t.showEditModal=!1},edit:t.loadDocuments}}):t._e()],1)},k=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 col-sm-5 u-text-right@desktop"},[e("label",{attrs:{for:"sortby"}},[e("small",{staticClass:"font-weight-bold"},[t._v("Sort by")])])])}],j=a("1947"),O=a("b17e"),S=a("b166");const T=(t,e)=>{const[a,n="asc"]=e.split("_"),o="asc"===n,r=["updated"].includes(a),s=Object(O["f"])(Object(O["h"])(null,a),Object(O["k"])(Object(O["c"])(String),O["j"])),i=(t,e)=>{let a=s(t),n=s(e);return r&&(a=parseInt(Object(S["a"])(new Date(a),"T")),n=parseInt(Object(S["a"])(new Date(n),"T"))),Object(O["c"])(String,a)&&Object(O["c"])(String,n)?a.localeCompare(n):a===n?0:a<n?-1:1};return Object(O["i"])(o?i:Object(O["b"])(i),t)};var E=a("7097"),A=function(){var t=this,e=t._self._c;return e("b-modal",{ref:"modal",attrs:{"hide-footer":"",centered:""},on:{hide:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Add document ")]},proxy:!0}])},[e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("Title "),e("sup",{attrs:{title:"Mandatory"}},[t._v("*")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",required:""},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"date"}},[t._v("Date")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.date,expression:"form.date"}],staticClass:"form-control",attrs:{type:"date",id:"date"},domProps:{value:t.form.date},on:{input:function(e){e.target.composing||t.$set(t.form,"date",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"file"}},[t._v("File "),e("sup",{attrs:{title:"Mandatory"}},[t._v("*")])]),e("drop-file",{model:{value:t.form.file,callback:function(e){t.$set(t.form,"file",e)},expression:"form.file"}})],1),e("b-button",{attrs:{type:"submit",variant:"secondary",block:""}},[t.isLoading?e("b-spinner",{attrs:{small:""}}):[t._v("Submit")]],2),e("b-button",{attrs:{type:"button",variant:"dark",block:""},on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")])],1)])},B=[],F=a("6aac"),M=a("01e3"),L=function(){var t=this,e=t._self._c;return e("div",[t.value?e("div",[e("small",[t._v("Selected file: "+t._s(t.value.name))]),e("button",{staticClass:"drop-file__icon u-reset-button text-danger",attrs:{title:"Datei entfernen"},on:{click:function(e){return t.$emit("input",null)}}},[e("b-icon",{staticClass:"h5",attrs:{icon:"x","aria-hidden":"true"}})],1)]):[e("div",{ref:"dropFile",staticClass:"drop-file u-flex u-flex--center p-24 u-text-center",on:{drop:t.handleFileDrop,click:t.triggerClick}},[e("span",{staticClass:"text-mute"},[t.dragAndDropEnabled?[t._v("Drop file or click to choose")]:[t._v("Drag and Drop is not supported")]],2),e("input",{ref:"file",staticClass:"u-display-none",attrs:{type:"file",accept:t.allowedTypes.join(",")},on:{change:t.onBrowseFile}})]),e("small",{staticClass:"text-muted"},[t._v("Allowed file types: "+t._s(t.allowedTypesString))])],t.error?e("p",{staticClass:"text-error"},[t._v(t._s(t.error))]):t._e()],2)},q=[],P=a("0759");const N=["application/pdf","image/jpeg","image/png"];var I={name:"DropFile",components:{BIcon:P["a"]},props:{value:{type:File,default:null},allowedTypes:{type:Array,default:()=>N}},data:()=>({dragAndDropEnabled:!1,error:"",browsedFile:null}),computed:{allowedTypesString(){const t=this.allowedTypes.map(t=>Object(O["g"])(1,t.split("/")).toUpperCase());return t.join(", ")}},watch:{async value(t){!t&&this.dragAndDropEnabled&&(await this.$nextTick(),this.bindEvents())}},mounted(){this.dragAndDropEnabled=this.isDragAndDropCapable(),this.dragAndDropEnabled&&this.bindEvents()},methods:{bindEvents(){["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"].forEach(function(t){var e;null===(e=this.$refs)||void 0===e||e.dropFile.addEventListener(t,function(t){t.preventDefault(),t.stopPropagation()}.bind(this),!1)}.bind(this))},triggerClick(){this.$refs.file.click()},isDragAndDropCapable(){const t=document.createElement("div");return("draggable"in t||"ondragstart"in t&&"ondrop"in t)&&"FormData"in window&&"FileReader"in window},handleFileDrop(t){this.error="";const e=t.dataTransfer.files[0];this.allowedTypes.includes(null===e||void 0===e?void 0:e.type)?this.$emit("input",e):this.error=`File type ${e.type} is not allowed.`},onBrowseFile(t){var e;this.error="";const a=null===t||void 0===t||null===(e=t.target)||void 0===e?void 0:e.files[0];this.allowedTypes.includes(null===a||void 0===a?void 0:a.type)?this.$emit("input",a):this.error=`File type ${a.type} is not allowed.`}}},U=I,V=(a("7c92"),Object(v["a"])(U,L,q,!1,null,"ad44cf7c",null)),H=V.exports,z={name:"AddDocumentModal",components:{BModal:F["a"],BButton:j["a"],BSpinner:M["a"],DropFile:H},data(){return{isLoading:!1,form:{title:"",date:"",file:null}}},mounted(){this.$refs.modal.show()},methods:{async onSubmit(){this.isLoading=!0;try{let t=new Date;this.form.date&&(t=new Date(this.form.date));const e=await this.$appwrite.uploadFile(this.form.file);await this.$appwrite.addDocument(this.form.title,e,t),this.$emit("add"),this.$emit("close")}catch(t){console.log(t),this.$toast.open({type:"error",message:t.message})}finally{this.isLoading=!1}}}},J=z,R=Object(v["a"])(J,A,B,!1,null,null,null),Z=R.exports,Y=function(){var t=this,e=t._self._c;return e("b-modal",{ref:"modal",attrs:{"hide-footer":"",centered:""},on:{hide:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Edit document ")]},proxy:!0}])},[e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("Title "),e("sup",{attrs:{title:"Mandatory"}},[t._v("*")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",required:""},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"date"}},[t._v("Date")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.date,expression:"form.date"}],staticClass:"form-control",attrs:{type:"date",id:"date"},domProps:{value:t.form.date},on:{input:function(e){e.target.composing||t.$set(t.form,"date",e.target.value)}}})]),e("b-button",{attrs:{type:"submit",variant:"secondary",block:""}},[t.isLoading?e("b-spinner",{attrs:{small:""}}):[t._v("Submit")]],2),e("b-button",{attrs:{type:"button",variant:"dark",block:""},on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")])],1)])},G=[],K=a("e3ee"),Q={name:"EditDocumentModal",components:{BModal:F["a"],BButton:j["a"],BSpinner:M["a"]},props:{document:{type:Object,required:!0}},data(){return{isLoading:!1,form:{title:this.document.title,date:this.document.date?this.$date(Object(K["a"])(this.document.date),"yyyy-MM-dd"):""}}},mounted(){this.$refs.modal.show()},methods:{async onSubmit(){this.isLoading=!0;try{let t=new Date;this.form.date&&(t=new Date(this.form.date)),await this.$appwrite.updateDocument(this.document.id,this.form.title,t),this.$emit("edit"),this.$emit("close")}catch(t){console.log(t),this.$toast.open({type:"error",message:t.message})}finally{this.isLoading=!1}}}},W=Q,X=Object(v["a"])(W,Y,G,!1,null,null,null),tt=X.exports,et={name:"Home",components:{AddDocumentModal:Z,EditDocumentModal:tt,BButton:j["a"],DocumentThumb:E["a"]},data(){return{isLoading:!1,sortBy:"updated_desc",documents:[],showAddModal:!1,showEditModal:!1,selectedDocumentToEdit:null}},computed:{numDocuments(){return this.documents.length},sortedDocuments(){return T(this.documents,this.sortBy)}},mounted(){this.loadDocuments()},methods:{async loadDocuments(){this.isLoading=!0;try{this.documents=await this.$appwrite.getPublishedDocuments()}catch(t){console.log(t),this.$toast.open({type:"error",message:t.message})}finally{this.isLoading=!1}},async onEdit(t){var e;const a=null!==(e=this.documents.find(e=>e.id===t))&&void 0!==e?e:null;a?(this.selectedDocumentToEdit=a,this.showEditModal=!0):this.$toast.open({type:"error",message:"An error occured. Please try again later."})},async onTrash(t){await this.$appwrite.trashDocument(t),await this.loadDocuments()}}},at=et,nt=Object(v["a"])(at,x,k,!1,null,"a0816a58",null),ot=nt.exports,rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container u-full-height u-flex u-flex-col pt-4"},[e("div",{staticClass:"mb-24"},[e("h2",{staticClass:"u-text-normal mb-12"},[t._v("Sign into your account")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-group mr-12"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{id:"username",type:"email",autocomplete:"username",autofocus:"",required:""},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})]),e("div",{staticClass:"form-group mr-12"},[t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"password",type:"password",autocomplete:"current-password",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),e("b-button",{attrs:{type:"submit","is-loading":t.isLoading,variant:"secondary"}},[t._v("Login")])],1),e("p",{staticClass:"mt-4"},[t._v(" Don't have an account? "),e("router-link",{staticClass:"text-secondary",attrs:{to:{name:"SignUp"}}},[t._v("Register here")])],1)])])},st=[function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"username"}},[t._v("Email address "),e("sup",[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"password"}},[t._v("Password "),e("sup",[t._v("*")])])}],it={name:"Login",components:{BButton:j["a"]},data(){return{isLoading:!1,form:{username:"",password:""}}},methods:{async onSubmit(){if(!this.isLoading)if(this.formIsValid()){this.isLoading=!0;try{await this.$appwrite.account.createEmailSession(this.form.username,this.form.password);const{$id:t,name:e}=await this.$appwrite.account.get();this.$store.commit("setUser",{id:t,name:e}),await this.$router.push({name:"Home"})}catch(t){console.log(t),this.$toast.open({type:"error",message:t.message})}finally{this.isLoading=!1}}else this.$toast.open({type:"error",message:"Please provide email and password."})},formIsValid(){return!(!this.form.username||!this.form.password)}}},lt=it,ct=Object(v["a"])(lt,rt,st,!1,null,"914eeb44",null),ut=ct.exports,dt=a("1b3a");const mt="6470c65154b36af41c6b",pt="64714fed7784b98b15b8",ft="6470c658902140919aca",ht="published",vt="trashed",bt=(new dt["b"]).setEndpoint("https://cloud.appwrite.io/v1").setProject("6470c63577fec2e023c9"),gt=new dt["c"](bt),yt=new dt["h"](bt),wt=new dt["a"](bt);var _t={client:bt,account:wt,getPublishedDocuments:async()=>{const{documents:t}=await gt.listDocuments(mt,pt,[dt["f"].equal("status",ht)]);return Object(O["d"])(t=>Object(O["f"])(Object(O["e"])(["title","status","date","fileId"]),Object(O["a"])("id",t.$id))(t))(t)},getTrashedDocuments:async()=>{const{documents:t}=await gt.listDocuments(mt,pt,[dt["f"].equal("status",vt)]);return Object(O["d"])(t=>Object(O["f"])(Object(O["e"])(["title","status","date","fileId"]),Object(O["a"])("id",t.$id))(t))(t)},addDocument:async(t,e,a)=>{const n=dt["d"].unique(),o=ht,{$id:r}=await wt.get(),s=dt["g"].user(r),i=[dt["e"].read(s),dt["e"].update(s),dt["e"].delete(s)];await gt.createDocument(mt,pt,n,{title:t,fileId:e,date:a,status:o,updated:new Date},i)},updateDocument:async(t,e,a)=>{await gt.updateDocument(mt,pt,t,{title:e,date:a,updated:new Date})},trashDocument:async t=>{await gt.updateDocument(mt,pt,t,{status:vt})},untrashDocument:async t=>{await gt.updateDocument(mt,pt,t,{status:ht})},deleteDocument:async t=>{await gt.deleteDocument(mt,pt,t)},getFileUrl:async t=>await yt.getFileView(ft,t),getFileThumb:async t=>{const{href:e}=await yt.getFilePreview(ft,t);return e},uploadFile:async t=>{const{$id:e}=await wt.get(),a=dt["g"].user(e),n=[dt["e"].read(a),dt["e"].delete(a)],{$id:o}=await yt.createFile(ft,dt["d"].unique(),t,n);return o},deleteFile:async t=>{await yt.deleteFile(ft,t)}};n["a"].use($["a"]);const Dt=[{path:"/",name:"Home",component:ot,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:ut},{path:"/sign-up",name:"SignUp",component:()=>a.e("sign-up").then(a.bind(null,"0687"))},{path:"/trash",name:"Trash",component:()=>a.e("trash").then(a.bind(null,"27c8")),meta:{requiresAuth:!0}}],Ct=new $["a"]({routes:Dt});Ct.beforeEach(async(t,e,a)=>{var n;let o=!1;try{o=await _t.account.get()}catch(r){}null!==(n=t.meta)&&void 0!==n&&n.requiresAuth&&!o&&a("login"),"Login"===t.name&&o&&a("/"),a()});var $t=Ct,xt=a("2f62");n["a"].use(xt["a"]);var kt=new xt["a"].Store({state:{user:null},mutations:{setUser(t,e){t.user=e}},actions:{async init({commit:t}){try{const{$id:e,name:a}=await _t.account.get();t("setUser",{id:e,name:a})}catch(e){}}},getters:{isAuthenticated:t=>null!==t.user}}),jt=a("f13a"),Ot=a.n(jt),St=(a("42bc"),a("4c9f")),Tt=a.n(St),Et=a("b1e0");a("5df9");n["a"].config.productionTip=!1,n["a"].prototype.$appwrite=_t,n["a"].use(Ot.a),n["a"].use(Tt.a),n["a"].use(Et["a"]),new n["a"]({router:$t,store:kt,beforeCreate(){this.$store.dispatch("init")},render:t=>t(D)}).$mount("#app")},7097:function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("b-card",{staticClass:"document-thumb",attrs:{title:t.title,"img-src":t.thumb,"img-top":""},on:{mouseenter:function(e){t.showViewOverlay=!0},mouseleave:function(e){t.showViewOverlay=!1}},scopedSlots:t._u([{key:"default",fn:function(){return[e("button",{staticClass:"view-overlay u-reset-button",class:{"view-overlay--show":t.showViewOverlay},attrs:{title:"Open document"},on:{click:t.openDocument}},[e("b-icon",{staticClass:"view-overlay__icon",attrs:{icon:"eye-fill","aria-hidden":"true"}})],1),t.actions.includes("edit")?e("b-button",{staticClass:"mr-2",attrs:{squared:"",variant:"outline-secondary",size:"sm",title:"Edit document"},on:{click:function(e){return t.$emit("edit",t.id)}}},[e("b-icon",{attrs:{icon:"pencil-fill","aria-hidden":"true"}}),t._v(" Edit ")],1):t._e(),t.actions.includes("trash")?e("b-button",{attrs:{squared:"",variant:"outline-danger",size:"sm",title:"Move to trash"},on:{click:function(e){return t.$emit("trash",t.id)}}},[e("b-icon",{attrs:{icon:"trash-fill","aria-hidden":"true"}}),t._v(" Trash ")],1):t._e(),t.actions.includes("untrash")?e("b-button",{staticClass:"mr-2",attrs:{squared:"",variant:"outline-secondary",size:"sm",title:"Move back to documents"},on:{click:function(e){return t.$emit("untrash",t.id)}}},[e("b-icon",{attrs:{icon:"arrow-left","aria-hidden":"true"}}),t._v(" Untrash ")],1):t._e(),t.actions.includes("delete")?e("b-button",{attrs:{squared:"",variant:"outline-danger",size:"sm",title:"Delete document permanently"},on:{click:function(e){return t.$emit("delete",{documentId:t.id,fileId:t.fileId})}}},[e("b-icon",{attrs:{icon:"trash-fill","aria-hidden":"true"}}),t._v(" Delete ")],1):t._e()]},proxy:!0},{key:"footer",fn:function(){return[e("small",{staticClass:"text-muted"},[t._v(t._s(t.$date(new Date(t.date),"dd.MM.yyyy")))])]},proxy:!0}])})},o=[],r=a("1947"),s=a("205f"),i={name:"DocumentThumb",components:{BButton:r["a"],BCard:s["a"]},props:{id:{type:String,required:!0},title:{type:String,required:!0},date:{type:String,required:!0},fileId:{type:String,required:!0},actions:{type:Array,default:()=>["edit","trash"]}},data:()=>({thumb:"",showViewOverlay:!1}),async mounted(){this.thumb=await this.$appwrite.getFileThumb(this.fileId)},methods:{async openDocument(){const{href:t}=await this.$appwrite.getFileUrl(this.fileId);setTimeout(()=>{window.open(t,"_blank","noreferrer")})}}},l=i,c=(a("cae1"),a("2877")),u=Object(c["a"])(l,n,o,!1,null,"b8d50c06",null);e["a"]=u.exports},"7c92":function(t,e,a){"use strict";a("e1a9")},cae1:function(t,e,a){"use strict";a("1893")},e1a9:function(t,e,a){}});
//# sourceMappingURL=app.6a781b88.js.map